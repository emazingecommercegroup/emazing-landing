<script>
  const CALENDLY_URL = "http://cal.com/e-mazingcommercegroup";

  // Mobile nav
  const navBtn = document.querySelector('.nav-toggle');
  const menu = document.getElementById('primary-menu');
  navBtn.addEventListener('click', () => {
    const open = navBtn.getAttribute('aria-expanded') === 'true';
    navBtn.setAttribute('aria-expanded', String(!open));
    menu.classList.toggle('open');
  });

  // Theme toggle
  const toggle = document.getElementById('themeToggle');
  const stored = localStorage.getItem('theme');
  if (stored) document.body.className = stored;
  toggle.checked = document.body.classList.contains('dark');
  toggle.addEventListener('change', () => {
    document.body.classList.toggle('dark');
    document.body.classList.toggle('light');
    localStorage.setItem('theme', document.body.className);
  });

  // Year
  document.getElementById('year').textContent = new Date().getFullYear();

  // Calendly hookup
  const calendlyEmbed = document.querySelector('.calendly-inline-widget');
  function showCalendly(e) {
    e.preventDefault();
    calendlyEmbed.style.display = 'block';
    window.scrollTo({ top: calendlyEmbed.offsetTop - 80, behavior: 'smooth' });
  }

  // Contact section button
  const calendlyBtn = document.getElementById('calendlyLink');
  calendlyBtn.setAttribute('href', CALENDLY_URL);
  calendlyBtn.addEventListener('click', showCalendly);

  // Hero section button
  const calendlyHero = document.getElementById('calendlyHero');
  calendlyHero.setAttribute('href', CALENDLY_URL);
  calendlyHero.addEventListener('click', showCalendly);
</script>
