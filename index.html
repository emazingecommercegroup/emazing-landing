<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>E-MAZING Commerce Group | Digital Redefined</title>
  <meta name="description" content="E-MAZING Commerce Group helps CPG brands redefine their digital presence using a practical, data-driven 5E framework: Experience, Equity, Energy, Engagement, Everywhere." />
  <link rel="canonical" href="https://e-mazingcommercegroup.com/" />
  <meta name="theme-color" content="#8f3f29" />

  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32.png">
  <link rel="icon" type="image/png" sizes="512x512" href="assets/favicon-512.png">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon-180.png">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css?v=2025-08-10-5" />

  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="E-MAZING Commerce Group | Digital Redefined">
  <meta property="og:description" content="Boutique consulting for digital shelf, commercialization, and growth. We bring the 5Ps to life in our 5E model.">
  <meta property="og:image" content="https://e-mazingcommercegroup.com/assets/og-preview.png">
  <meta property="og:url" content="https://e-mazingcommercegroup.com/">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="E-MAZING Commerce Group | Digital Redefined">
  <meta name="twitter:description" content="Boutique consulting for digital shelf, commercialization, and growth.">
  <meta name="twitter:image" content="https://e-mazingcommercegroup.com/assets/og-preview.png">

  <!-- Preload small logo (optional) -->
  <link rel="preload" href="assets/logo-full.png" as="image" />
  
  <!-- Schema.org -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"E-MAZING Commerce Group",
    "url":"https://e-mazingcommercegroup.com/",
    "logo":"https://e-mazingcommercegroup.com/assets/logo-full.png",
    "description":"Boutique consulting for digital shelf, commercialization, and growth.",
    "email":"Jennifer@emazingcommercegroup.com",
    "founder": "Jennifer Angelus",
    "sameAs":["https://www.linkedin.com/company/emazing-commerce-group"]
  }
  </script>
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header class="site-header">
    <div class="container header-inner">
      <!-- Logo (top-left) -->
      <a class="brand" href="/" aria-label="E-MAZING Commerce Group Home">
        <img class="brand-logo" src="assets/logo-full.png" alt="E-MAZING Commerce Group logo"
             width="36" height="36" decoding="async" fetchpriority="high" />
        <span class="brand-text">E-MAZING Commerce Group</span>
      </a>

      <button class="nav-toggle" aria-expanded="false" aria-controls="primary-nav">
        <span class="sr-only">Toggle navigation</span>
        <svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>

      <nav id="primary-nav" class="nav" aria-label="Primary">
        <ul>
          <!-- Reordered nav -->
          <li><a href="#about">About</a></li>
          <li><a href="#services">Services</a></li>
          <li><a href="#five-e">5E Framework</a></li>
          <li><a href="#unicorn-funnel">Unicorn Funnel</a></li>
          <li><a href="#about-jennifer">Jennifer</a></li>

          <!-- Theme toggle lives in the nav so it appears on mobile too -->
          <li>
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme" aria-pressed="false">
              <svg class="icon-sun" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 4V2m0 20v-2M4.93 4.93 3.51 3.51m16.98 16.98-1.42-1.42M4 12H2m20 0h-2M4.93 19.07 3.51 20.49m16.98-16.98-1.42 1.42M12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <svg class="icon-moon" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 1 0 9.79 9.79Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </button>
          </li>

          <li class="hide-mobile"><a class="btn btn--primary" href="#contact">Let’s Talk</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="main">
    <section class="hero" aria-labelledby="hero-title">
      <div class="hero-bg" aria-hidden="true"></div>
      <div class="container hero-inner">
        <h1 id="hero-title" class="display">
          Digital Redefined — <span class="accent">Strategy that actually ships.</span>
        </h1>
        <p class="lead">
          We help CPG brands turn possibilities into performance across the digital shelf—combining sharp strategy with clean execution.
        </p>
        <div class="cta">
          <a class="btn btn--primary" href="#contact">Start a project</a>
          <a class="btn btn--ghost" href="#about">About us</a>
        </div>
        <div class="hero-badges" role="list" aria-label="Highlights">
          <div role="listitem">Woman-owned</div>
          <div role="listitem">CPG-native</div>
          <div role="listitem">Data-driven</div>
        </div>
      </div>
    </section>

    <!-- About -->
    <section id="about" class="section section--tint">
      <div class="container">
        <h2 class="h2">About</h2>
        <p class="max-60">
          We’re a boutique, woman-owned consultancy built by operators. We partner directly with founders and lean teams to design strategies that fit reality—and then we help you run them.
        </p>
      </div>
    </section>

    <!-- Services -->
    <section id="services" class="section">
      <div class="container">
        <h2 class="h2">What we do</h2>
        <p class="muted">From audit to activation across Amazon and retailer.com.</p>

        <div class="grid cards">
          <article class="card">
            <h3>Digital Shelf & Content</h3>
            <p>Best-practice PDPs, A+ content, image stacks, and taxonomy that converts.</p>
            <ul>
              <li>PDP & A+ systems</li>
              <li>Content ops playbooks</li>
              <li>Retailer compliance</li>
            </ul>
          </article>

          <article class="card">
            <h3>Commercialization</h3>
            <p>Launch plans, market entry, and cross-functional runbooks to scale quickly.</p>
            <ul>
              <li>Launch frameworks</li>
              <li>Retailer.com toolkits</li>
              <li>Partner enablement</li>
            </ul>
          </article>

          <article class="card">
            <h3>Growth & Media</h3>
            <p>Always-on retail media strategies that ladder into P&L reality.</p>
            <ul>
              <li>Retail media planning</li>
              <li>Promo & pricing guardrails</li>
              <li>Test-and-learn design</li>
            </ul>
          </article>

          <article class="card">
            <h3>Analytics</h3>
            <p>From visibility to action: dashboards, diagnostics, and KPI governance.</p>
            <ul>
              <li>Scorecards & alerts</li>
              <li>Attribution sanity checks</li>
              <li>Win-loss & elasticity</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <!-- 5E -->
    <section id="five-e" class="section section--tint">
      <div class="container">
        <h2 class="h2">The 5E Framework</h2>
        <p class="muted">How we translate the classic 5Ps into outcomes.</p>

        <div class="grid cards cards--equal">
          <article class="card"><h3>Experience</h3><p>Product as a journey: messaging, assets, and UX that reduce buyer friction.</p></article>
          <article class="card"><h3>Equity</h3><p>Price, promo, and value narrative that build brand and protect margin.</p></article>
          <article class="card"><h3>Energy</h3><p>Operational momentum—cadence, rituals, and ownership that ship work.</p></article>
          <article class="card"><h3>Engagement</h3><p>Media and community loops that turn attention into action.</p></article>
          <article class="card"><h3>Everywhere</h3><p>Channel strategy and retail readiness across Amazon & retailer.com.</p></article>
        </div>
      </div>
    </section>

    <!-- UNICORN FUNNEL (horn graphic + accordion legend) -->
    <section id="unicorn-funnel" class="section">
      <div class="container">
        <h2 class="h2">The Unicorn Funnel</h2>
        <p class="muted max-60">
          A horn-shaped, stage-based growth model—from first touch to loyal repeat—built for modern CPG and tuned to retailer reality.
        </p>

        <style>
          /* Scoped to this section only */
          #unicorn-funnel {
            --horn-pink: #FF4FB7;
            --horn-gold: #d2941f;
            --horn-paper: #eee2cf;
            --horn-sheen: rgba(255,255,255,.55);
            --horn-outline: rgba(255,255,255,.18);
          }
          #unicorn-funnel .funnel-wrap {
            display: grid;
            grid-template-columns: 1.2fr 1fr;
            gap: 28px;
            align-items: center;
          }
          @media (max-width: 900px) {
            #unicorn-funnel .funnel-wrap { grid-template-columns: 1fr; }
          }
          #unicorn-funnel .legend .row {
            display: grid;
            grid-template-columns: 28px 1fr;
            gap: 12px;
            align-items: start;
            padding: 10px 12px;
            border: 1px solid rgba(255,255,255,.08);
            border-radius: 14px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: background .2s ease, border-color .2s ease;
          }
          #unicorn-funnel .legend .row:hover { background: rgba(255,255,255,.04); border-color: rgba(255,255,255,.16); }
          #unicorn-funnel .row[aria-expanded="true"] { border-color: var(--horn-gold); }
          #unicorn-funnel .chip {
            width: 22px; height: 22px; border-radius: 999px; border: 1px solid rgba(255,255,255,.25);
          }
          #unicorn-funnel .muted { opacity: .85; }
          #unicorn-funnel .caption { font-size: .9rem; opacity: .85; margin-top: 6px; }
          #unicorn-funnel .expander {
            grid-column: 1 / -1;
            margin: -6px 0 10px 0;
            padding: 0 12px 8px 40px;
            border-left: 2px dashed rgba(255,255,255,.18);
            overflow: hidden;
            max-height: 0;
            transition: max-height .28s ease;
          }
          #unicorn-funnel .expander.open { /* max-height set dynamically via JS for smoothness */ }
          #unicorn-funnel .expander ul { margin: 8px 0 0 0; padding-left: 18px; }
          #unicorn-funnel .expander li { margin: 4px 0; }
        </style>

        <div class="funnel-wrap">
          <!-- HORN SVG -->
          <svg class="horn" viewBox="0 0 720 520" role="img" aria-labelledby="hornTitle hornDesc"
               preserveAspectRatio="xMidYMid meet" style="width:100%; height:auto; display:block">
            <title id="hornTitle">Unicorn Horn Funnel</title>
            <desc id="hornDesc">A tapered, banded horn with shimmering gradient, labeled from base to tip: Attract, Engage, Nurture, Convert, Grow.</desc>

            <defs>
              <!-- Core gradient (animated shimmer) -->
              <linearGradient id="hornGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%"   stop-color="var(--horn-pink)" />
                <stop offset="45%"  stop-color="var(--horn-gold)" />
                <stop offset="70%"  stop-color="var(--horn-paper)" />
                <stop offset="100%" stop-color="var(--horn-pink)" />
                <animateTransform attributeName="gradientTransform" type="translate"
                                  from="-0.2 0" to="0.2 0" dur="7s" repeatCount="indefinite"/>
              </linearGradient>

              <!-- Soft highlight sweep that moves across the horn -->
              <linearGradient id="glintGrad" x1="0" y1="0" x2="1" y2="0">
                <stop offset="0%"  stop-color="transparent"/>
                <stop offset="50%" stop-color="var(--horn-sheen)"/>
                <stop offset="100%" stop-color="transparent"/>
                <animateTransform attributeName="gradientTransform" type="translate"
                                  from="-1 0" to="1 0" dur="3.8s" repeatCount="indefinite"/>
              </linearGradient>

              <!-- Repeating diagonal stripes -> become horn rings via mask -->
              <pattern id="ringPattern" width="22" height="100" patternUnits="userSpaceOnUse"
                       patternTransform="skewX(-14) rotate(-14)">
                <rect x="0" y="0" width="22" height="68" fill="white" />
              </pattern>
              <mask id="ringMask">
                <rect x="0" y="0" width="100%" height="100%" fill="url(#ringPattern)" />
              </mask>

              <!-- Horn silhouette for clipping -->
              <clipPath id="clipHorn">
                <path id="hornPath"
                  d="M160,470
                     C260,410 360,360 520,300
                     C560,285 590,270 610,250
                     C640,220 650,185 640,150
                     C615,160 595,170 570,175
                     C560,140 540,120 520,110
                     C480,95 430,110 380,130
                     C300,160 230,210 180,260
                     C140,300 120,350 110,400
                     C100,440 120,470 160,470 Z" />
              </clipPath>

              <!-- Tiny glow for sparkles -->
              <filter id="sparkle">
                <feGaussianBlur in="SourceGraphic" stdDeviation="1.2" result="b"/>
                <feMerge>
                  <feMergeNode in="b"/><feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>

            <!-- Filled horn with gradient -->
            <g clip-path="url(#clipHorn)">
              <rect x="0" y="0" width="100%" height="100%" fill="url(#hornGrad)" />
              <!-- Rings mask on top to create banded horn -->
              <rect x="0" y="0" width="100%" height="100%" fill="white" mask="url(#ringMask)" opacity=".22"/>
              <!-- Moving highlight -->
              <rect x="0" y="0" width="100%" height="100%" fill="url(#glintGrad)" opacity=".35"/>
            </g>

            <!-- Outline -->
            <use href="#hornPath" fill="none" stroke="var(--horn-outline)" stroke-width="2"/>

            <!-- Sparkles -->
            <g filter="url(#sparkle)" opacity=".85">
              <circle cx="505" cy="145" r="2.2" fill="var(--horn-paper)">
                <animate attributeName="opacity" values="0;1;0" dur="2.8s" repeatCount="indefinite"/>
              </circle>
              <circle cx="450" cy="205" r="1.8" fill="var(--horn-pink)">
                <animate attributeName="opacity" values="0;1;0" dur="3.2s" begin=".4s" repeatCount="indefinite"/>
              </circle>
              <circle cx="600" cy="245" r="2.0" fill="var(--horn-gold)">
                <animate attributeName="opacity" values="0;1;0" dur="3.6s" begin=".8s" repeatCount="indefinite"/>
              </circle>
            </g>

            <!-- Leader lines + stage dots (approx positions from base->tip) -->
            <g stroke="rgba(255,255,255,.35)" stroke-width="1.5" fill="none">
              <!-- Attract -->
              <line x1="260" y1="400" x2="690" y2="400" />
              <circle cx="260" cy="400" r="4" fill="var(--horn-pink)" />
              <!-- Engage -->
              <line x1="360" y1="340" x2="690" y2="340" />
              <circle cx="360" cy="340" r="4" fill="var(--horn-gold)" />
              <!-- Nurture -->
              <line x1="460" y1="285" x2="690" y2="285" />
              <circle cx="460" cy="285" r="4" fill="var(--horn-paper)" />
              <!-- Convert -->
              <line x1="540" y1="230" x2="690" y2="230" />
              <circle cx="540" cy="230" r="4" fill="var(--horn-pink)" />
              <!-- Grow -->
              <line x1="585" y1="180" x2="690" y2="180" />
              <circle cx="585" cy="180" r="4" fill="var(--horn-gold)" />
            </g>
          </svg>

          <!-- LEGEND + EXPANDERS -->
          <div class="legend">
            <!-- Row 1 -->
            <div class="row" role="button" tabindex="0" aria-expanded="false" aria-controls="exp-attract" data-target="exp-attract">
              <span class="chip" style="background: var(--horn-pink)"></span>
              <div>
                <strong>Attract</strong>
                <div class="caption">Creator/PR moments, retail search/SEO prospecting, retail media (DSP/ONS).</div>
              </div>
            </div>
            <div class="expander" id="exp-attract">
              <ul class="muted">
                <li>Audience mapping & lookalikes by retailer category taxonomy</li>
                <li>Search gap finder (retailer & Google): queries → content → media routing</li>
                <li>Upper-funnel DSP with retail conversion pixels where supported</li>
              </ul>
            </div>

            <!-- Row 2 -->
            <div class="row" role="button" tabindex="0" aria-expanded="false" aria-controls="exp-engage" data-target="exp-engage">
              <span class="chip" style="background: var(--horn-gold)"></span>
              <div>
                <strong>Engage</strong>
                <div class="caption">PDP storytelling & image stacks, A+ modules, claims/badging, variant logic.</div>
              </div>
            </div>
            <div class="expander" id="exp-engage">
              <ul class="muted">
                <li>PDP blueprint: hero image, benefit stack, brand block, comparison</li>
                <li>Variant architecture & cross-sell modules per retailer rules</li>
                <li>Accessibility & scan-ability checks (mobile-first)</li>
              </ul>
            </div>

            <!-- Row 3 -->
            <div class="row" role="button" tabindex="0" aria-expanded="false" aria-controls="exp-nurture" data-target="exp-nurture">
              <span class="chip" style="background: var(--horn-paper)"></span>
              <div>
                <strong>Nurture</strong>
                <div class="caption">Review seeding & UGC loops, bundles/quizzes/FAQs, sampling & trial.</div>
              </div>
            </div>
            <div class="expander" id="exp-nurture">
              <ul class="muted">
                <li>Review acceleration (compliant) + UGC rights and reuse system</li>
                <li>Education micro-flows: FAQs, how-to, comparison, science/claims</li>
                <li>Trial tactics: samples, bundles, first-purchase incentives</li>
              </ul>
            </div>

            <!-- Row 4 -->
            <div class="row" role="button" tabindex="0" aria-expanded="false" aria-controls="exp-convert" data-target="exp-convert">
              <span class="chip" style="background: var(--horn-pink)"></span>
              <div>
                <strong>Convert</strong>
                <div class="caption">Promo guardrails & price ladders, PDP retargeting, buy-box & availability governance.</div>
              </div>
            </div>
            <div class="expander" id="exp-convert">
              <ul class="muted">
                <li>Promo ladders by pack/retailer, with guardrails to protect equity</li>
                <li>Retargeting paths: PDP viewers → ATC → purchase</li>
                <li>Operational governance: availability, buy-box, and MAP watch</li>
              </ul>
            </div>

            <!-- Row 5 -->
            <div class="row" role="button" tabindex="0" aria-expanded="false" aria-controls="exp-grow" data-target="exp-grow">
              <span class="chip" style="background: var(--horn-gold)"></span>
              <div>
                <strong>Grow</strong>
                <div class="caption">Subscribe & Save/repurchase nudges, CRM & remarketing, channel-wise assortment.</div>
              </div>
            </div>
            <div class="expander" id="exp-grow">
              <ul class="muted">
                <li>Repeat engine: post-purchase CRM, replenishment windows, S&S</li>
                <li>Basket expansion: adjacencies & “complete the set” tactics</li>
                <li>Assortment optimization: velocity, margin, duplication pruning</li>
              </ul>
            </div>

            <div class="card" style="margin-top:12px">
              <h3 style="margin:0 0 6px">Measure What Matters</h3>
              <p class="muted" style="margin:0">
                Reach → PDP views → PDP quality score → Add-to-Cart rate → Unit velocity → Repeat rate.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- About Jennifer -->
    <section id="about-jennifer" class="section section--tint">
      <div class="container">
        <h2 class="h2">About Jennifer Angelus</h2>
        <div class="grid cards">
          <article class="card">
            <p class="max-60">
              Jennifer Angelus is a CPG operator and builder who leads Digital Shelf &amp; Capabilities at Danone North America. She connects brand, sales, retail media, and content operations to drive omnichannel growth—and is known for turning strategy into execution with speed. After nearly a decade at Danone across roles in brand strategy, trade marketing, and category insights, she founded E-MAZING Commerce Group to bring that same rigor and momentum to founder-led and scaling brands.
            </p>
            <p class="max-60 muted">
              When you work with E-MAZING, you get Jennifer’s hands-on leadership: clear direction, clean execution, and governance to sustain it.
            </p>
          </article>

          <article class="card">
            <h3>Selected speaking &amp; features</h3>
            <ul>
              <li><a href="https://brand-innovators.com/events/marketing-innovation-summit-danone-ny-2024/" target="_blank" rel="noopener">Speaker, Brand Innovators Marketing Innovation Summit (Hosted by Danone, Sep 25, 2024)</a></li>
              <li><a href="https://www.idfa.org/events/dairy-forum-2024" target="_blank" rel="noopener">Panelist, IDFA Dairy Forum 2024 (Digital Shelf &amp; Connected Commerce)</a></li>
              <li><a href="https://www.digitalshelfinstitute.org/podcast/drive-omnichannel-growth-understanding-each-touch-point" target="_blank" rel="noopener">Guest, Digital Shelf Institute: “How to Drive Omnichannel Growth”</a></li>
              <li><a href="https://www.marsunited.com/digital-shelf-summit-strategies-for-driving-omnichannel-success/" target="_blank" rel="noopener">Quoted, Digital Shelf Summit recap (Mars United)</a></li>
              <li><a href="https://www.youtube.com/watch?v=cjxRBSzHvBU" target="_blank" rel="noopener">Panel, “Measure What You Treasure: Danone’s Strategies for Omnichannel Success”</a></li>
            </ul>
            <p class="muted" style="margin-top:.5rem">
              Have awards to add? Email <a href="mailto:Jennifer@emazingcommercegroup.com">Jennifer@emazingcommercegroup.com</a>.
            </p>
          </article>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="section">
      <div class="container">
        <h2 class="h2">Let’s talk</h2>
        <p class="max-60">Tell us where you’re stuck. We’ll suggest a path and a starting scope.</p>

        <div class="contact-cta">
          <a class="btn btn--primary" id="emailLink" href="mailto:Jennifer@emazingcommercegroup.com?subject=Project%20Inquiry%20from%20Website">Email Jennifer@emazingcommercegroup.com</a>

          <!-- BOOKING -->
          <a class="btn btn--ghost" id="bookLink" href="https://cal.com/e-mazingcommercegroup" target="_blank" rel="noopener">
            Book a 20-min intro
          </a>
        </div>

        <noscript>
          <p class="muted" style="margin-top:10px">
            JavaScript is off. You can still
            <a href="https://cal.com/e-mazingcommercegroup" target="_blank" rel="noopener">book a 20-min intro here</a>.
          </p>
        </noscript>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <div class="foot-left">
        <span>© <span id="year"></span> E-MAZING Commerce Group</span>
        <span class="dot">•</span>
        <span>Woman-owned</span>
      </div>
      <div class="foot-right">
        <a href="https://www.linkedin.com/company/emazing-commerce-group" target="_blank" rel="noopener">LinkedIn</a>
        <a href="mailto:Jennifer@emazingcommercegroup.com">Contact</a>
      </div>
    </div>
  </footer>

  <!-- Minimal JS: nav toggle, year, scroll-reveal, theme toggle, booking hook, funnel accordion -->
  <script>
    // --- CONFIGURE ONCE: your real Calendly/Cal.com URL ---
    const CAL_LINK = 'https://cal.com/e-mazingcommercegroup';
    // -------------------------------------------------------

    // Current year
    const yearEl = document.getElementById('year');
    if (yearEl) yearEl.textContent = new Date().getFullYear();

    // Mobile nav (guard in case element is missing)
    const toggle = document.querySelector('.nav-toggle');
    const nav = document.getElementById('primary-nav');
    if (toggle && nav) {
      toggle.addEventListener('click', () => {
        const expanded = toggle.getAttribute('aria-expanded') === 'true';
        toggle.setAttribute('aria-expanded', String(!expanded));
        nav.classList.toggle('open');
      });
    }

    // Scroll-reveal (respect reduced motion)
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (!prefersReduced && 'IntersectionObserver' in window) {
      const io = new IntersectionObserver((entries) => {
        entries.forEach(e => e.isIntersecting && e.target.classList.add('reveal--in'));
      }, { threshold: 0.12 });
      document.querySelectorAll('.card, .h2, .lead, .cta').forEach(el => {
        el.classList.add('reveal'); io.observe(el);
      });
    }

    // Theme toggle (remembers choice)
    const root = document.documentElement;
    const themeBtn = document.getElementById('themeToggle');

    function preferredTheme() {
      const saved = localStorage.getItem('theme');
      if (saved) return saved;
      const preset = root.getAttribute('data-theme');
      if (preset) return preset;
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    }
    function applyTheme(t) {
      root.setAttribute('data-theme', t);
      if (themeBtn) themeBtn.setAttribute('aria-pressed', String(t === 'light'));
      localStorage.setItem('theme', t);
    }
    applyTheme(preferredTheme());

    if (themeBtn) {
      themeBtn.addEventListener('click', () => {
        const current = root.getAttribute('data-theme') || 'dark';
        applyTheme(current === 'dark' ? 'light' : 'dark');
      });
    }

    // Booking link wiring
    const bookLink = document.getElementById('bookLink');
    if (bookLink && CAL_LINK) {
      bookLink.href = CAL_LINK;
    }

    // ===== Unicorn Funnel accordion (single-open) =====
    (function () {
      const container = document.getElementById('unicorn-funnel');
      if (!container) return;

      const rows = container.querySelectorAll('.legend .row');
      const expanders = container.querySelectorAll('.legend .expander');

      function closeAll() {
        expanders.forEach(exp => {
          exp.classList.remove('open');
          exp.style.maxHeight = 0;
        });
        rows.forEach(r => r.setAttribute('aria-expanded', 'false'));
      }

      function toggleRow(row) {
        const targetId = row.getAttribute('data-target');
        const expander = document.getElementById(targetId);
        if (!expander) return;

        const isOpen = row.getAttribute('aria-expanded') === 'true';
        if (isOpen) {
          row.setAttribute('aria-expanded', 'false');
          expander.style.maxHeight = 0;
          expander.classList.remove('open');
        } else {
          // Accordion: close others
          closeAll();
          row.setAttribute('aria-expanded', 'true');
          expander.classList.add('open');
          // Set to scrollHeight for smooth expansion
          expander.style.maxHeight = expander.scrollHeight + 'px';
          // Ensure keyboard focus can move into content
          const firstLink = expander.querySelector('a, button, [href], [tabindex]:not([tabindex="-1"])');
          if (firstLink) firstLink.tabIndex = 0;
        }
      }

      rows.forEach(row => {
        row.addEventListener('click', () => toggleRow(row));
        row.addEventListener('keydown', (e) => {
          // Activate on Enter or Space
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            toggleRow(row);
          }
        });
      });

      // Respect reduced-motion: disable animated max-height if requested
      const reduce = window.matchMedia('(prefers-reduced-motion: reduce)');
      if (reduce.matches) {
        expanders.forEach(exp => exp.style.transition = 'none');
      }
    })();
  </script>
</body>
</html>
